"use strict";(self.webpackChunkaimmed_web=self.webpackChunkaimmed_web||[]).push([[400],{30754:function(e,n,t){t.d(n,{Z:function(){return p}});var o=t(15861),a=t(87757),r=t.n(a),i=t(74569),s=t.n(i),c=t(35014),l=t(34263),d=(t(72791),t(80184)),u=function(e){var n=e.response;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h3",{children:[n.statusText," "]})," ",(0,d.jsx)("p",{children:n.data.message})]})},f=!1,x=[],h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;x.forEach((function(t){e?t.reject(e):t.resolve(n)})),x=[]},m=s().create({withCredentials:!0});m.interceptors.request.use((function(e){var n=new l.Z;return e.headers.Authorization="Bearer ".concat(n.get("accessToken")),e}),(function(e){return Promise.reject(e)})),m.interceptors.response.use((function(e){var n,t,o,a,r,i;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.message&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message.indexOf("\uc131\uacf5"))>-1)return e;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.message&&(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message.indexOf("\uc644\ub8cc"))>-1)return e;null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.message&&c.Z.warn(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message);return e}),function(){var e=(0,o.Z)(r().mark((function e(n){var t,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new l.Z,o=n.config,!(n&&n.response&&n.response.status&&401===n.response.status)||o._retry){e.next=9;break}if(!f){e.next=5;break}return e.abrupt("return",new Promise((function(e,n){x.push({resolve:e,reject:n})})).then((function(e){return o.headers.Authorization="Bearer ".concat(t.get("accessToken")),s()(o)})).catch((function(e){return Promise.reject(e)})));case 5:return o._retry=!0,f=!0,a=t.get("refreshToken"),e.abrupt("return",s().post("/admin-user-api/cms/token/refresh",{refreshToken:a},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var a,r;if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.message&&(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message.indexOf("\uc131\uacf5"))>-1){var i=e.data.result,s=i.token,c=s.accessToken,l=s.refreshToken;return t.remove("accessToken"),t.remove("refreshToken"),t.set("accessToken",c),t.set("refreshToken",l),t.set("accessToken",c,{path:"/"}),t.set("refreshToken",l,{path:"/"}),m.defaults.headers.common.Authorization="Bearer ".concat(t.get("accessToken")),h(null,i.AccessToken),m(o)}h(n,null),window.location.href="#/login"})).catch((function(e){h(e,null),window.location.href="#/login"})).finally((function(){f=!1})));case 9:c.Z.warn(u(n)),console.error(n.response);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var p=m},35014:function(e,n,t){var o=t(4980),a=t(3475),r={msg:function(e,n,t,r){Number(e)>99?o.Z.confirm({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:a.Y[e],okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",onOk:t,onCancel:r,closable:!0}):o.Z.info({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:n?"".concat(n," ").concat(a.Y[e]):a.Y[e],okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",cancelButtonProps:{hidden:!0},closable:!0})},confirm:function(e,n,t){o.Z.confirm({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:e,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",onOk:n,onCancel:t,closable:!0})},info:function(e){o.Z.info({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:e,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",cancelButtonProps:{hidden:!0},closable:!0})},infoCallback:function(e,n){o.Z.info({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:e,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",onOk:n,cancelButtonProps:{hidden:!0},closable:!0})},warn:function(e){o.Z.warn({title:"\ud655\uc778",className:"confirm_modal",width:"300px",content:e,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",cancelButtonProps:{hidden:!0},closable:!0})}};n.Z=r},33400:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var o=t(72791),a=t(93433),r=t(29439),i=t(72921),s=t(20757),c=t(82699),l=t(58484),d=t(72426),u=t.n(d),f=t(82426),x=t(15861),h=t(87757),m=t.n(h),p=t(30754),v=function(){var e=(0,x.Z)(m().mark((function e(n,t){var o,a,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)({url:"http://58.181.51.162:5004/webhooks/rasa/webhook?token=secret",method:"post",data:n});case 2:o=e.sent,a=o.data,null!==(r=void 0===a?null:a)&&t(r);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=t(80184),k=function(){(0,o.useRef)(null);var e=(0,o.useState)(""),n=(0,r.Z)(e,2),t=n[0],d=n[1],x=(0,o.useState)(!1),h=(0,r.Z)(x,2),m=h[0],p=h[1],k=(0,o.useState)([{text:"<a>\uac74\uac15\uc0c1\ud0dc \uc9c8\ubb38</a><tag>aa</tag>",type:"bot",date:"2022-05-15 17:52:32"},{text:"\uac74\uac15\uc0c1\ud0dc \ub300\ub2f5",type:"user",date:"2022-05-15 17:52:32"},{text:"\uac74\uac15\uc0c1\ud0dc\uc5d0 \ub530\ub978 \ucc57\ubd07\uc5d0 \ub300\ud654\uac00 \uc774\ub8e8\uc5b4 \uc9d1\ub2c8\ub2e4.\n\ucc57\ubd07\uc5d0 \ub300\ub2f5\uc740 \uc9c0\uc5f0\ub420\uc218\uc788\uc2b5\ub2c8\ub2e4. ",type:"bot",date:"2022-05-15 17:52:32"},{text:"\uac74\uac15\uc0c1\ud0dc\uc5d0 \ub530\ub978 \ucc57\ubd07\uc5d0 \ub300\ud654\uac00 \uc774\ub8e8\uc5b4 \uc9d1\ub2c8\ub2e4.\n\ucc57\ubd07\uc5d0 \ub300\ub2f5\uc740 \uc9c0\uc5f0\ub420\uc218\uc788\uc2b5\ub2c8\ub2e4.111111111 ",type:"bot",date:"2022-05-15 17:52:32"}]),w=(0,r.Z)(k,2),y=w[0],j=w[1],b=(0,o.useState)(""),T=(0,r.Z)(b,2);T[0],T[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{style:{width:"100%"},children:[y.map((function(e,n){return(0,g.jsx)(g.Fragment,{children:"bot"===e.type?(0,g.jsxs)(c.rj,{columns:1,gap:5,style:{display:"flex",margin:10},children:[(0,g.jsx)(c.qE,{src:"",style:{"--size":"46px"}}),(0,g.jsx)(c.Zb,{style:{fontWeight:600,maxWidth:"calc( 100% - 150px)",overflowWrap:"anywhere"},children:(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.text}})}),(0,g.jsx)(c.T,{align:"end",children:(0,g.jsx)("div",{children:u()(null===e||void 0===e?void 0:e.date).format("HH:mm:ss")})})]}):(0,g.jsx)(c.rj,{columns:1,gap:3,style:{display:"flex",margin:10,justifyContent:"end",overflowWrap:"anywhere"},children:(0,g.jsx)(c.Zb,{style:{fontWeight:600,maxWidth:"calc( 100% - 150px)",backgroundColor:"#1677ff"},children:null===e||void 0===e?void 0:e.text})})})})),m&&(0,g.jsxs)(c.rj,{columns:1,gap:5,style:{display:"flex",margin:10},children:[(0,g.jsx)(c.qE,{src:"",style:{"--size":"46px"}}),(0,g.jsx)(c.Zb,{style:{fontWeight:600,maxWidth:"calc( 100% - 150px)",backgroundColor:"#1677ff",overflowWrap:"anywhere"},children:(0,g.jsx)("span",{style:{fontSize:14},children:(0,g.jsx)(c.k_,{})})})]}),(0,g.jsxs)(c.rj,{columns:1,gap:5,style:{display:"flex",margin:10},children:[(0,g.jsx)(c.qE,{src:"",style:{"--size":"46px"}}),(0,g.jsx)(c.Zb,{style:{fontWeight:600,maxWidth:"calc( 100% - 150px)"},children:(0,g.jsx)(l.ReactTinyLink,{cardSize:"small",showGraphic:!0,maxLine:2,minLine:1,url:"https://andrewandco.co.kr/surl/P/496/?cafe_mkt=ue_1019_secret_pc&NaPm=ci%3D5hlelMmjmJSKqVuwLGlTolrA%7Ctr%3Dgfa%7Cct%3Dl39w2jcg%7Chk%3D5a8f8afd7fe79fe4198af35aaf829794975d14de"})})]}),(0,g.jsx)(f.rU,{to:"/faq",children:(0,g.jsx)(c.e$,{axis:"x",magnetic:"x",style:{"--initial-position-bottom":"50px","--initial-position-right":"10px","--edge-distance":"24px"},children:(0,g.jsx)(i.Z,{style:{fontSize:"26px"}})})}),(0,g.jsx)(c.e$,{axis:"x",magnetic:"x",style:{"--initial-position-bottom":"50px","--initial-position-left":"10px","--edge-distance":"24px","--background":"white"},onClick:function(){c.u_.confirm({title:"\uc0c1\ub2f4\uc0ac\ub97c \uc5f0\uacb0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",content:"\uc0c1\ub2f4\ub0b4\uc6a9\uc740 \ub179\uc74c\ub418\uac70\ub098 \ud65c\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",onConfirm:function(){document.location.href="tel:114"},confirmText:"\ud655\uc778",cancelText:"\ucde8\uc18c"})},children:(0,g.jsx)(s.Z,{style:{fontSize:"26px",color:"gray"}})})]}),(0,g.jsx)("div",{className:"aimmed_chat_textbox",children:(0,g.jsxs)("div",{style:{display:"flex",padding:"6px",backgroundColor:"white"},children:[(0,g.jsx)(c.Kx,{placeholder:"\ubb38\uc758\uc0ac\ud56d\uc744 \uc785\ub825\ud558\uc138\uc694.",rows:1,autoSize:{minRows:1,maxRows:5},style:{minHeight:24,width:"calc( 100% - 80px )",backgroundColor:"white",overflowY:"hidden"},value:t,onChange:function(e){d(e)}}),(0,g.jsx)(c.zx,{color:"primary",size:"mini",style:{borderRadius:0,width:"80px"},onClick:function(){p(!0);var e,n,o=[].concat((0,a.Z)(y),[{text:t,type:"user",date:"2022-05-15 17:52:32"}]);j(o),d(""),v({message:t,sender:(e=1e3,n=9999,Math.random()*(n-e)+e)},(function(e){p(!1),j([].concat((0,a.Z)(o),[{text:e,type:"bot",date:"2022-05-15 17:52:32"}]))}))},children:"\uc804\uc1a1"})]})})]})},w=function(){return(0,g.jsx)(k,{})}},3475:function(e,n,t){t.d(n,{Y:function(){return o}});var o={"000":"\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","001":"\uc0ad\uc81c\ud560 \ub300\uc0c1\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694","002":"\uc744(\ub97c) \uc785\ub825(\uc120\ud0dd) \ud574\uc8fc\uc138\uc694","003":"\ucd94\uac00\ud560 \ub300\uc0c1\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694","004":"\ub4f1\ub85d\uac00\ub2a5\ud55c \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4.","005":"\uc6a9\ub7c9\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",101:"\uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",102:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",103:"\uc120\ud0dd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",104:"\ubcc0\uacbd\ub41c \ub0b4\uc6a9\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc800\uc7a5\uc5c6\uc774 \ubaa9\ub85d\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",105:"\ub2f5\uae00\uc774 \uc788\ub294 \uae30\ubcf8\uae00 \uc0ad\uc81c\uc2dc \ub2f5\uae00\ub3c4 \ud568\uaed8 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}}}]);
//# sourceMappingURL=400.958b6aa5.chunk.js.map