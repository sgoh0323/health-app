"use strict";(self.webpackChunkaimmed_web=self.webpackChunkaimmed_web||[]).push([[135],{93135:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});var n=t(72791),s=t(1413),i=t(29439),l=t(72426),d=t.n(l),r=t(85589),o=t(38251),c=t(66106),u=t(30914),m=t(87309),h=t(763),x=t(37644),p=t(29351),Z=t(36076),f=t(79271),j=t(4980),g=t(83099),N=t(35014),y=t(33928),b=t(51992),w=t(52425),v=t(4453),C=t(79780),S=t(80184),F=function(e){var a=e.form,t=e.boadrFiles,n=e.setBoadrFiles,s=e.uploadFiles,i=e.setUploadFiles,l=e.content,d=e.setContent,o=e.data;return(0,S.jsx)(r.Z,{form:a,children:o&&(0,S.jsxs)(c.Z,{className:"content__contentbox__table",children:[(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ub2f5\ubcc0\uc0c1\ud0dc"}),(0,S.jsx)(u.Z,{className:"data",span:20,children:o.data.statusFormat}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\uc0c1\ud488\ucf54\ub4dc"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:o.data.productCode}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\uc0c1\ud488\uc774\ubbf8\uc9c0"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:o.data.productUrl?(0,S.jsx)(b.Z,{alt:"Preview",width:36,src:o.data.productUrl}):""}),(0,S.jsx)(u.Z,{className:"label ",span:4,children:"\ubb38\uc758 \ub0b4\uc6a9"}),(0,S.jsxs)(u.Z,{className:"data",span:20,children:[(0,S.jsx)(v.ML,{value:o.data.content,height:150,readOnly:!0}),(0,S.jsx)(C.Z,{downloadFiles:o.questionFiles,readonly:!0})]}),(0,S.jsx)(u.Z,{className:"label ",span:4,children:"\ub2f5\ubcc0"}),(0,S.jsxs)(u.Z,{className:"data",span:20,children:[(0,S.jsx)(v.ML,{value:l,onChange:d,height:250}),(0,S.jsx)(r.Z.Item,{labelCol:{span:0},wrapperCol:{span:24},name:"content",label:"",style:{marginTop:"-32px"},rules:[{required:!0,message:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}],children:(0,S.jsx)(w.Z,{hidden:!0,style:{height:"0px"}})})]}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ucca8\ubd80"}),(0,S.jsxs)(u.Z,{className:"data",span:20,children:[(0,S.jsx)(C.Z,{downloadFiles:t,setDownloadFiles:n}),(0,S.jsx)(v.L1,{uploadFiles:s,setUploadFiles:i,maxCount:t?3-t.length:3})]}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ubb38\uc758\uc5c5\uccb4\uba85/\ubb38\uc758\uc77c\uc2dc"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:"".concat((0,Z.$t)(o.data.questionName)," ").concat((0,Z.$t)(o.data.regdateFormat))}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ucd5c\ucd08\ub2f5\ubcc0\uc790/\ucd5c\ucd08\ub2f5\ubcc0\uc77c\uc2dc"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:"".concat((0,Z.$t)(o.data.answerName)," ").concat((0,Z.$t)(o.data.answerDateFormat))}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ucd5c\uc885\uc218\uc815\uc790/\uc77c\uc2dc"}),(0,S.jsx)(u.Z,{className:"data",span:20,children:"".concat((0,Z.$t)(o.data.updaterName)," ").concat((0,Z.$t)(o.data.updateDate))})]})})},k=function(e){var a=e.idx,t=e.hideModal,s=(0,n.useState)(),l=(0,i.Z)(s,2),d=l[0],o=l[1],h=(0,n.useState)(),Z=(0,i.Z)(h,2),f=Z[0],b=Z[1],w=(0,n.useState)(),v=(0,i.Z)(w,2),C=v[0],k=(v[1],(0,n.useState)()),D=(0,i.Z)(k,2),_=(D[0],D[1],r.Z.useForm()),I=(0,i.Z)(_,1)[0],q=(0,n.useState)([]),T=(0,i.Z)(q,2),M=T[0],R=T[1],A=(0,n.useState)([]),B=(0,i.Z)(A,2),V=B[0],z=B[1],L=(0,n.useState)(!1),U=(0,i.Z)(L,2),$=(U[0],U[1],(0,n.useState)(!1)),P=(0,i.Z)($,2),G=(P[0],P[1]),W=(0,p.Z)().setLoading;return(0,n.useEffect)((function(){return 0!==a&&W((0,x.ah)(a,(function(e){var a;b(e.result),o(null===(a=e.result.data)||void 0===a?void 0:a.answerContent),R(e.result.answerFiles),e.result.data}))),function(){}}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(j.Z,{visible:0!==a,title:"1:1 \ubb38\uc758 \uc0c1\uc138",onCancel:function(){t(!1)},className:"detail_modal",footer:(0,S.jsx)(S.Fragment,{}),width:1400,children:[(0,S.jsx)(F,{form:I,data:f,content:d,setContent:function(e){I.setFieldsValue({content:e}),o(e),G(!0)},answerData:C,uploadFiles:V,setUploadFiles:function(e){G(!0),z(e)},onClickDownLoad:function(e){(0,y.Tv)({idx:e.idx,fileName:e.fileName})},boadrFiles:M,setBoadrFiles:R}),(0,S.jsx)(c.Z,{justify:"end",style:{marginBottom:"10px"},children:(0,S.jsx)(u.Z,{children:(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(m.Z,{name:"\uc800\uc7a5",type:"primary",onClick:function(){I.validateFields().then((function(e){N.Z.msg("101","",(function(){var e=new FormData;e.append("idx ",f.data.idx),e.append("content ",d),null===f.data.answerIdx&&e.append("productCode",f.data.productCode),V&&V.forEach((function(a){e.append("files",a)})),null===f.data.answerIdx?W((0,x.pS)({data:e},(function(e){N.Z.info("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t(!0)}))):(M.length>0&&M.map((function(a){return e.append("includeFileIdxs",a.idx)})),W((0,x.dz)({data:e},(function(e){N.Z.info("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t(!0)}))))}))}))},children:null!==f&&void 0!==f&&f.data.answerIdx?"\uc218\uc815":"\uc800\uc7a5"}),(0,S.jsx)(m.Z,{name:"\uc0ad\uc81c",type:"primary",onClick:function(e){N.Z.msg("102","",(function(){(0,x.K3)(a,(function(e){t(!0)}))}),(function(){}))},children:"\uc0ad\uc81c"}),(0,S.jsx)(m.Z,{name:"\ub2eb\uae30",onClick:function(){t(!1)},children:"\ub2eb\uae30"})]})})})]})})},D=function(e){var a=e.idx,t=e.hideModal;return(0,S.jsx)(k,{idx:a,hideModal:t})},_=t(83734),I=t(69305),q=function(e){var a=e.form;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(c.Z,{className:"content__contentbox__table",children:[(0,S.jsx)(u.Z,{className:"label",span:4,children:"\uae30\uac04"}),(0,S.jsx)(u.Z,{className:"data",span:20,children:(0,S.jsxs)(c.Z,{align:"middle",justify:"start",children:[(0,S.jsx)(r.Z.Item,{name:"searchDateType",initialValue:0,label:"",style:{width:"200px"},children:(0,S.jsx)(_.Z,{options:I.F$})}),(0,S.jsx)(v.Gt,{form:a})]})}),(0,S.jsx)(u.Z,{className:"label ",span:4,children:"\ub2f5\ubcc0\uc0c1\ud0dc"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:(0,S.jsx)(c.Z,{justify:"start",children:(0,S.jsx)(r.Z.Item,{name:"questionStatus",initialValue:100,label:"",style:{width:"200px"},children:(0,S.jsx)(_.Z,{options:I.hm})})})}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\ubb38\uc758\ub300\uc0c1"}),(0,S.jsx)(u.Z,{className:"data",span:8,children:(0,S.jsx)(r.Z.Item,{name:"searchTargetType",label:"",initialValue:0,style:{width:"100px",marginLeft:"0px",marginRight:"10px"},children:(0,S.jsx)(_.Z,{options:I.Tl,defaultValue:0})})}),(0,S.jsx)(u.Z,{className:"label",span:4,children:"\uac80\uc0c9\uc5b4"}),(0,S.jsx)(u.Z,{className:"data",span:20,children:(0,S.jsxs)(c.Z,{justify:"start",children:[(0,S.jsx)(r.Z.Item,{name:"searchType",initialValue:0,label:"",style:{width:"200px",marginRight:"10px"},children:(0,S.jsx)(_.Z,{options:I.r7})}),(0,S.jsx)(r.Z.Item,{name:"searchWord",label:"",initialValue:"",style:{width:"200px",marginLeft:"0px",marginRight:"0px"},children:(0,S.jsx)(w.Z,{})})]})})]})})},T=t(32014),M=t(62953),R=function(e){var a=e.data,t=e.page,s=e.onRowSelected,l=e.onChangePage,d=e.onShowSizeChange,r=(e.moveAddPage,e.fileDownload),o=e.setGridApi,x=e.onClickDelete,p=e.gridApi,Z=e.onClickStatusButton,f=(0,n.useState)(!1),j=(0,i.Z)(f,2),g=j[0],N=j[1],y=function(e){return e.data.productUrl?(0,S.jsx)(b.Z,{width:36,src:e.data.productUrl}):(0,S.jsx)("div",{})},w=function(e){return 100===e.data.status?(0,S.jsx)(m.Z,{children:"\uc900\ube44\ucc98\ub9ac"}):(0,S.jsx)("div",{})},C=(0,n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{columnDefs:[{field:"number",headerName:"No.",minWidth:10,headerCheckboxSelection:!0,checkboxSelection:!0},{field:"idx",headerName:"idx",hide:!0},{field:"statusFormat",headerName:"\uc0c1\ud0dc",minWidth:50},{field:"status",headerName:"\uc900\ube44\ucc98\ub9ac",cellClass:"tal",cellRendererFramework:w},{field:"targetTypeFormat",headerName:"\ubb38\uc758\ub300\uc0c1"},{field:"content",headerName:"\ub0b4\uc6a9",minWidth:250},{field:"questionName",headerName:"\ubb38\uc758\uc790"},{field:"companyName",headerName:"\uc5c5\uccb4\uba85"},{field:"regdateFormat",headerName:"\ubb38\uc758\ub4f1\ub85d\uc77c\uc2dc"},{field:"answerId",headerName:"\ucd5c\ucd08\ub2f5\ubcc0\uc790"},{field:"answerDateFormat",headerName:"\ucd5c\ucd08\ub2f5\ubcc0\uc77c\uc2dc"},{field:"productCode",headerName:"\uc0c1\ud488\ucf54\ub4dc"},{field:"productUrl",headerName:"\uc0c1\ud488\uc774\ubbf8\uc9c0",cellRendererFramework:y,hide:e},{field:"updateName",headerName:"\ucd5c\uc885\uc218\uc815\uc790"},{field:"updateDateFormat",headerName:"\ucd5c\uc885\uc218\uc815\uc77c\uc2dc"}],headerHeight:35,rowHeight:41,defaultColDef:{flex:1,minWidth:80,editable:!1,resizable:!0,sortable:!0},suppressRowClickSelection:!0,rowSelection:"multiple"}}),[g]);return(0,S.jsx)("div",{className:"ag-grid-custom",children:(0,S.jsxs)("div",{style:{backgroundColor:"white",padding:"20px"},children:[(0,S.jsxs)(c.Z,{style:{marginBottom:"10px"},children:[(0,S.jsx)(u.Z,{span:12}),(0,S.jsxs)(u.Z,{span:12,style:{textAlign:"end"},children:[(0,S.jsx)(T.Z,{checked:!g,onChange:function(e){N(!e.target.checked),p.setColumnDefs(C(!e.target.checked).columnDefs)},children:"\uc774\ubbf8\uc9c0\ud3ec\ud568"}),(0,S.jsx)(m.Z,{type:"primary",onClick:x,children:"\uc120\ud0dd\uc0ad\uc81c"}),"\xa0",(0,S.jsx)(m.Z,{type:"primary",onClick:r,children:"\uc5d1\uc140\ub2e4\uc6b4\ub85c\ub4dc"})]})]},(0,h.uniqueId)()),(0,S.jsx)("div",{className:"ag-grid-custom__grid ag-theme-balham",style:{width:"100%",height:"450px"},children:(0,S.jsx)(M.AgGridReact,{rowData:a.list,gridOptions:C(),onGridReady:function(e){o(e.api)},enableRangeSelection:!0,onRowDoubleClicked:s,onCellClicked:function(e){"\uc900\ube44\ucc98\ub9ac"===e.colDef.headerName&&100===e.data.status&&Z(e.data.idx)}})}),(0,S.jsx)("div",{className:"page-box",style:{textAlign:"center",marginTop:"10px"},children:(0,S.jsx)(v.wD,{total:a.total,current:t,onChange:l,showSizeChanger:!0,defaultPageSize:10,onShowSizeChange:d})})]})})},A=function(){var e=(0,n.useState)({}),a=(0,i.Z)(e,2),t=a[0],l=a[1],j=(0,n.useState)(0),g=(0,i.Z)(j,2),y=g[0],b=g[1],w=(0,n.useState)(),v=(0,i.Z)(w,2),C=v[0],F=v[1],k=r.Z.useForm(),_=(0,i.Z)(k,1)[0],I=(0,n.useState)({}),T=(0,i.Z)(I,2),M=T[0],A=T[1],B=(0,n.useState)(null),V=(0,i.Z)(B,2),z=V[0],L=V[1],U=(0,f.k6)(),$=(0,p.Z)().setLoading,P=function(){var e=_.getFieldsValue();e.startDate=d()(e.startDate).format("yyyy-MM-DD"),e.endDate=d()(e.endDate).format("yyyy-MM-DD"),A((0,s.Z)((0,s.Z)({},e),{},{page:1,limit:10})),G((0,s.Z)((0,s.Z)({},e),{},{page:1,limit:10}))},G=function(e){console.log(e.questionStatus),$((0,x.iV)((0,s.Z)((0,s.Z)({},e),{},{questionStatus:999===e.questionStatus?void 0:e.questionStatus}),(function(e){l(null===e||void 0===e?void 0:e.result),b(null===e||void 0===e?void 0:e.result.total)})))};(0,n.useEffect)((function(){P()}),[]);var W=(0,n.useCallback)((function(e,a){$((0,x.Bg)({idx:e,status:500},(function(){G(M)})))}),[M]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:"page_content",children:[(0,S.jsxs)(o.Z,{className:"title-navi__navi",children:[(0,S.jsx)(o.Z.Item,{className:"title-navi__navi__home",children:"\ud30c\ud2b8\ub108 \uac8c\uc2dc\ud310\uad00\ub9ac"}),(0,S.jsx)(o.Z.Item,{className:"title-navi__navi__parent",children:"\ud30c\ud2b8\ub108 1:1\ubb38\uc758"})]}),(0,S.jsxs)(r.Z,{form:_,layout:"horizontal",children:[(0,S.jsxs)(c.Z,{align:"bottom",style:{marginBottom:"10px",marginTop:"-12px"},children:[(0,S.jsx)(u.Z,{span:12,children:"\uac80\uc0c9\uc870\uac74"}),(0,S.jsxs)(u.Z,{span:12,style:{textAlign:"end"},children:[(0,S.jsx)(m.Z,{type:"primary",htmlType:"submit",onClick:P,children:"\uc870\ud68c"}),"\xa0",(0,S.jsx)(m.Z,{type:"primary",htmlType:"reset",children:"\ucd08\uae30\ud654"})]})]},(0,h.uniqueId)()),(0,S.jsx)(q,{form:_})]}),(0,S.jsx)(c.Z,{align:"bottom",style:{marginBottom:"10px",marginTop:"-12px"},children:(0,S.jsxs)(u.Z,{span:24,children:["\uac80\uc0c9\uacb0\uacfc : ",(0,S.jsxs)("span",{style:{color:"red"},children:["(",(0,Z.x6)(y),"\uac74)"]})]})},(0,h.uniqueId)()),t&&(0,S.jsx)(R,{data:t,page:null===M||void 0===M?void 0:M.page,onRowSelected:function(e){F(e.data)},onChangePage:function(e){A((0,s.Z)((0,s.Z)({},M),{},{page:e})),G((0,s.Z)((0,s.Z)({},M),{},{page:e}))},onShowSizeChange:function(e,a){console.log(e," : ",a)},moveAddPage:function(e){U.push("/partner/notice/new")},fileDownload:function(){$((0,x.NK)({url:"/board-api/cms/partners/question/excel",fileNm:"\uacf5\uc9c0\uc0ac\ud56d_".concat(d()().format("yyyyMMddHHmmss"),".xls"),params:M}))},setGridApi:L,onClickDelete:function(){var e=z.getSelectedNodes().map((function(e){return e.data.idx}));if(0===e.length)return N.Z.msg("001");N.Z.msg("102","",(function(){(0,x.YY)({removeIdxs:e},(function(){P()}))}))},gridApi:z,onClickStatusButton:W})]}),(0,S.jsx)("div",{children:C&&(0,S.jsx)(D,{idx:C.idx,hideModal:function(e){F(void 0),e&&G(M)}})})]})},B=function(){return(0,S.jsx)(A,{})}}}]);
//# sourceMappingURL=135.ac2d293c.chunk.js.map